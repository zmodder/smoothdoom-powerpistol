ACTOR SmoothArchvile : Archvile Replaces Archvile
{
	States
	{
	Spawn:
		VILE AB 10 A_Look
		Loop
	See:
		VILM abcdeefghijj 2 a_vilechase
		Loop
	Missile:
		NVIL a 0 bright a_vilestart
		NVIL a 3 bright a_facetarget 
		NVIL b 3 bright a_vilestart
		NVIL cdef 3 bright a_facetarget
		NVIL f 0 bright a_viletarget
		NVIL ghij 3 bright a_facetarget
		NVIL k 24 bright a_facetarget
		NVIL lmno 3 bright a_facetarget
		NVIL p 4 bright a_vileattack
		NVIL q 4 bright
		NVIL r 20 bright
		goto see
	Heal:
		VILE xxyzyxxyzy 3 bright
		goto see
	Pain:
		VILP a 3
		VILP b 7 a_pain
		Goto See
	Death.GibbyHaynes:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("StudioGibbly")==0, "Death")
		TNT1 A 0
		TNT1 A 0 A_JumpIfCloser(128, "GibDeath")
		TNT1 A 0
	Death:
		TNT1 a 0 A_JumpIfHealthLower(-30,"Gibdeath")
		VILD A 3
		VILD B 3 A_Scream
		VILD C 3 A_NoBlocking
		VILD DEFGHIJKLM 3
		VILD M -1
		Stop
	Gibdeath:
		XVIL a 3
		TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Gibs1", 32, 0, random (0, 360), 2, random (0, 160))
		TNT1 AA 0 A_CustomMissile ("Gibs2", 32, 0, random (0, 360), 2, random (0, 160))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItem("XBlood2", 0, 40)
		TNT1 a 0 a_playsound ("misc/gibbed")
		XVIL b 2 a_scream
		XVIL c 2 a_noblocking
		XVIL defghijklmnop 2
		XVIL q -1
		stop
	}
}